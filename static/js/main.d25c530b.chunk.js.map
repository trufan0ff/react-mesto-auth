{"version":3,"sources":["images/logo.svg","components/Header.js","images/avatar_edit.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","utils/Api.js","components/ImagePopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","utils/auth.js","images/icon.svg","images/Union.svg","components/InfoTooltip.js","components/MenuMobile.js","components/App.js","index.js"],"names":["Header","handleLogout","email","toggleMenu","isMenuOpen","className","href","target","src","logo","alt","exact","path","to","onClick","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","style","backgroundImage","name","type","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","handleCardClick","avatar","avatar_edit","about","map","Footer","rel","PopupWithForm","children","title","isOpen","onClose","onSubmit","noValidate","EditAvatarPopup","props","avatarRef","useRef","e","preventDefault","onUpdateAvatar","current","value","ref","id","pattern","required","placeholder","EditProfilePopup","useState","setName","description","setDescription","useEffect","onUpdateUser","onChange","minLength","maxLength","AddPlacePopup","api","baseUrl","headers","this","_url","_headers","fetch","then","res","_resultStatus","method","body","JSON","stringify","cardId","ok","json","Promise","reject","status","ImagePopup","ProtectedRoute","Component","component","exect","loggedIn","Login","handleLogin","password","data","setData","handleChange","Register","handleRegister","isDataSet","URL","InfoTooltip","icon","SucceedIcon","ErrorIcon","MenuMobile","App","setLoggedIn","selectedCard","setSelectedCard","setCurrentUser","setCards","userData","setUserData","setIsMenuOpen","isInfoToolTipOpen","setIsInfoToolTipOpen","infoToolTipData","setInfoToolTipData","setIsDataSet","history","useHistory","getInitialCards","catch","err","console","log","getUserInfo","push","isEditAvatarPopupOpen","setStateAvatar","isEditProfilePopupOpen","setStateProfile","isAddPlacePopupOpen","setStatePlace","closeAllPopups","tokenCheck","token","localStorage","getItem","auth","handleInfoToolTip","removeItem","Provider","background","removeLikeFromCard","setLikeForCard","newCard","state","c","deleteCard","filter","item","setItem","finally","updateAvatar","updateProfile","addCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d25c530b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from '../images/logo.svg'\r\nimport { Route, Switch, Link } from \"react-router-dom\";\r\n\r\nfunction Header({ handleLogout, email, toggleMenu, isMenuOpen }) {\r\n    return (\r\n        <header className=\"header section\">\r\n            <button href=\"#\" target=\"_blank\" className=\"header__logo-link link-animation\"><img src={logo} alt=\"Логотип\" className=\"header__logo\" /></button>\r\n            <Switch>\r\n                <Route exact path=\"/\">\r\n                    <div className=\"header__info\">\r\n                        <span className=\"header__email\">{email}</span>\r\n                        <Link\r\n                            to=\"/signin\"\r\n                            onClick={handleLogout}\r\n                            className=\"button header__link\"\r\n                        >\r\n                            Выйти\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <div className=\"hamburger-menu\" onClick={toggleMenu}>\r\n                        <div\r\n                            className={\r\n                                isMenuOpen ? \"humburger-menu__menu humburger-menu__menu_clicked\" : \"humburger-menu__menu\"\r\n                            }\r\n                        ></div>\r\n                    </div>\r\n                </Route>\r\n\r\n                <Route path=\"/signin\">\r\n                    <Link to=\"/signup\" className=\"button header__link\">\r\n                        Регистрация\r\n                    </Link>\r\n                </Route>\r\n\r\n                <Route path=\"/signup\">\r\n                    <Link to=\"/signin\" className=\"button header__link\">\r\n                        Войти\r\n                    </Link>\r\n                </Route>\r\n            </Switch>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/avatar_edit.a086f758.svg\";","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete}) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    // Определяем, являемся ли мы владельцем текущей карточки\r\n    const isOwn = card.owner._id === currentUser._id;\r\n\r\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n    const cardDeleteButtonClassName = (\r\n        `${isOwn ? 'element__delete' : 'element__delete_type_hidden'}`\r\n    );\r\n\r\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n    const cardLikeButtonClassName = (\r\n        `${!isLiked ? 'element__heart' : 'element__heart_type_active'}`\r\n        );\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card)\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete(card)\r\n    }\r\n    return (\r\n        <div className=\"element\">\r\n            <img src={card.link} style={{ backgroundImage: `url(${card.link})` }} onClick={handleClick} className=\"element__image\" alt={card.name} />\r\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick} />\r\n            <div className=\"element__group\">\r\n                <h2 className=\"element__title\">{card.name}</h2>\r\n                <div className=\"element__group_likes\">\r\n                    <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick} />\r\n                    <h2 className=\"element__count_heart\">{card.likes.length}</h2>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Card;","import React from \"react\";\r\nimport avatar_edit from '../images/avatar_edit.svg'\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\n\r\n\r\nfunction Main({ cards, onCardLike, onCardDelete, onEditProfile, onAddPlace, onEditAvatar, handleCardClick }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-group\">\r\n                    <img src={currentUser.avatar} style={{ backgroundImage: `url(${currentUser.avatar})` }} className=\"profile__avatar\" alt=\"Аватар\" onClick={onEditAvatar} />\r\n                    <img src={avatar_edit} className=\"profile__avatar-edit\" alt=\"Карандаш\" />\r\n                </div>\r\n                <div className=\"profile__group\">\r\n                    <div className=\"profile__info\">\r\n                        <div className=\"profile__edit\">\r\n                            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                            <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}></button>\r\n                        </div>\r\n                        <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                    </div>\r\n                    <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace}></button>\r\n                </div>\r\n            </section>\r\n\r\n            <section className=\"elements\">\r\n                {cards.map((card) => <Card key={card._id} onCardDelete={onCardDelete} onCardClick={handleCardClick} onCardLike={onCardLike} card={card} />)}\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\nexport default Main;","function Footer() {\r\n    return (\r\n        <footer className=\"footer\"> \r\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia by <a href=\"https://vk.com/trufan\" target=\"_blank\" rel = \"noreferrer\" className=\"footer__social-link link-animation\">trufan</a></p> \r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","function PopupWithForm({children, title, isOpen, onClose, onSubmit}) {\r\n    \r\nreturn (\r\n        <section className={`popup  ${isOpen && \"popup_active\"}`}>\r\n            <div className=\"popup__container\"> \r\n                <button className=\"popup__close\" type=\"button\" onClick={onClose} />\r\n                <h2 className=\"popup__title\">{title}</h2> \r\n                <form className=\"popup__form\" noValidate onSubmit={onSubmit} >\r\n                    {children}\r\n                    <button className=\"popup__submit\"  type=\"submit\">Сохранить</button> \r\n                </form> \r\n            </div> \r\n        </section> \r\n)\r\n}\r\n\r\nexport default PopupWithForm;","import PopupWithForm from \"./PopupWithForm.js\";\r\nimport React from \"react\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatarRef = React.useRef();\r\n\r\n    \r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value\r\n        });\r\n    }\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} title={props.title} >\r\n            <input ref={avatarRef} className=\"popup__input popup__input_type_link-avatar\" id=\"link-avatar-input\" pattern=\"https://.*\" type=\"url\" required placeholder=\"Ссылка на картинку\" name=\"link-avatar-input\" />\r\n            <span className=\"link-avatar-input-error\" />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction EditProfilePopup(props) {\r\n    const [name, setName] = React.useState('')\r\n    const [description, setDescription] = React.useState('')\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n    \r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n    \r\n    function handleChangeAbout(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} title={props.title}>\r\n            <input className=\"popup__input popup__input_type_name\" value={name} onChange={handleChangeName} id=\"name-input\" minLength=\"2\" maxLength=\"40\" required type=\"text\" name=\"name\" placeholder=\"Ваше имя\" />\r\n            <span className=\"name-input-error\"></span>\r\n            <input className=\"popup__input popup__input_type_activity\" value={description} onChange={handleChangeAbout} id=\"about\" minLength=\"2\" maxLength=\"200\" required type=\"text\" name=\"activity\" placeholder=\"О себе\" />\r\n            <span className=\"about-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction AddPlacePopup(props) {\r\n    const [name, setName] = React.useState('')\r\n    const [link, setDescription] = React.useState('')\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onAddPlace({\r\n            name: name,\r\n            link: link\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} title={props.title}>\r\n            <input onChange={handleChangeName} className=\"popup__input popup__input_type_mesto-name\" id=\"name\" type=\"text\" minLength=\"2\" maxLength=\"30\" required name=\"name\" placeholder=\"Название\" />\r\n            <span className=\"name-error\"></span>\r\n            <input onChange={handleChangeLink} className=\"popup__input popup__input_type_link\" id=\"link\" pattern=\"https://.*\" type=\"url\" name=\"link\" required placeholder=\"Ссылка на картинку\" />\r\n            <span className=\"link-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","class Api {\r\n    constructor({baseUrl, headers}) {\r\n        this._url = baseUrl\r\n        this._headers = headers\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._url}/cards`, {\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    addCard(name, link) {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: link\r\n            })\r\n        })\r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._url}/users/me`, {\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    updateProfile(name, about) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        }) \r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    setLikeForCard(cardId) {\r\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n            method: 'PUT',\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    removeLikeFromCard(cardId) {\r\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    updateAvatar(link) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: link\r\n            })\r\n        })\r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    _resultStatus(res) {\r\n        if (res.ok) {\r\n            return res.json()\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`)\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-26',\r\n    headers: {\r\n        \"authorization\": 'f2f1eda8-cb60-4ee0-8ee5-825fccefe6c9',\r\n        'Content-Type': 'application/json'\r\n    }\r\n})\r\nexport default api;","function ImagePopup({ card, onClose }) {\r\n    return (\r\n        <section className={`popup ${(card !== null) && 'popup_active'}`} id=\"image-popup\">\r\n            <div className=\"popup__container-image\">\r\n                <div className=\"popup__container popup__container_type_image\" >\r\n                    <button className=\"popup__close\" onClick={onClose} type=\"button\"></button>\r\n                    <img src={card !== null ? card.link : \"#\"} className=\"popup__image\" alt=\"Изображение\" />\r\n                </div>\r\n                <h2 className=\"popup__image-title\">{card !== null ? card.name : \"#\"}</h2>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route exect>\r\n            {() =>\r\n                props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\r\n            }\r\n        </Route>\r\n    );\r\n};\r\n\r\nexport default ProtectedRoute;","import { useState } from \"react\";\r\n\r\n\r\nfunction Login({handleLogin}) {\r\n\r\n    const [data, setData] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n    });\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setData({\r\n            ...data,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { email, password } = data;\r\n        handleLogin(email, password);\r\n    }\r\n\r\n    return (\r\n        <div className=\"authorization\">\r\n            <h2 className=\"authorization__title\">Вход</h2>\r\n            <form onSubmit={handleSubmit} className=\"authorization__form\">\r\n                <input className=\"authorization__input\" onChange={handleChange} value={data.email} id=\"email-input\" name=\"email\" minLength=\"2\" maxLength=\"40\" required type=\"email\" placeholder=\"Введите email\" />\r\n                <input className=\"authorization__input\" name=\"password\" type=\"password\" value={data.password} onChange={handleChange} id=\"code-input\" minLength=\"2\" maxLength=\"200\" required placeholder=\"Введите пароль\" />\r\n                <button className=\"authorization__button\" type=\"submit\">Войти</button>\r\n            </form>\r\n            <p className=\"authorization__caption\"></p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","\r\nimport { Link } from \"react-router-dom\";\r\nimport {React, useEffect, useState } from \"react\";\r\n\r\nfunction Register({ handleRegister, isDataSet }) {\r\n\r\n    const [data, setData] = useState({\r\n        email: \"\",\r\n        password: \"\"\r\n    });\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setData({\r\n            ...data,\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { email, password } = data;\r\n        handleRegister(password, email);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (isDataSet) {\r\n            setData({ email: \"\", password: \"\" });\r\n        }\r\n    }, [isDataSet]);\r\n\r\n    return (\r\n        <section className=\"authorization\">\r\n            <h2 className=\"authorization__title\">Регистрация</h2>\r\n\r\n            <form onSubmit={handleSubmit} className=\"authorization__form\">\r\n                <input\r\n                    className=\"authorization__input\"\r\n                    id=\"authorization-email\"\r\n                    name=\"email\"\r\n                    type=\"email\"\r\n                    value={data.email}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Введите email\"\r\n                />\r\n\r\n                <input\r\n                    className=\"authorization__input\"\r\n                    id=\"authorization-password\"\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    value={data.password}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Введите пароль\"\r\n                />\r\n                <button type=\"submit\" className=\"authorization__button\">Зарегистрироваться</button>\r\n            </form>\r\n\r\n            <p className=\"authorization__caption\">\r\n                Уже зарегистрированы?&nbsp;\r\n                <Link to=\"signin\" className=\"authorization__link\">\r\n                    Войти\r\n                </Link>\r\n            </p>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Register;","const URL = 'https://auth.nomoreparties.co';\r\n\r\n\r\n\r\nexport const register = (password, email) => {\r\n    return fetch(`${URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ password, email })\r\n    })\r\n        .then(_resultStatus);\r\n\r\n};\r\nexport const authorize = (email, password) => {\r\n    return fetch(`${URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email, password })\r\n    })\r\n        .then(_resultStatus)\r\n};\r\n\r\nexport const getToken = (token) => {\r\n    return fetch(`${URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n        }\r\n    })\r\n        .then(_resultStatus)\r\n}\r\n\r\nconst _resultStatus = (res) => {\r\n    if (res.ok) {\r\n        return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n}","export default __webpack_public_path__ + \"static/media/icon.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/Union.7c6a020b.svg\";","import SucceedIcon from \"../images/icon.svg\";\r\nimport ErrorIcon from \"../images/Union.svg\";\r\n\r\nfunction InfoTooltip({ title, isOpen, onClose, icon }) {\r\n    \r\n    return (\r\n            <section className={`popup  ${isOpen && \"popup_active\"}`}>\r\n                <div className=\"popup__container\"> \r\n                    <button className=\"popup__close\" type=\"button\" onClick={onClose} />\r\n                    <img src={icon ? SucceedIcon : ErrorIcon} className=\"popup__icon\" alt=\"Иконка\" />\r\n                    <h2 className=\"popup__title-authorization\">{title}</h2> \r\n                </div> \r\n            </section> \r\n    )\r\n    }\r\n    \r\n    export default InfoTooltip;","import { Link } from \"react-router-dom\";\r\n\r\nconst MenuMobile = ({ email, isMenuOpen, handleLogout }) => {\r\n    return (\r\n        <section className={isMenuOpen ? \"menu_mobile\" : \"menu_bobile menu_hidden\"}>\r\n            <span className=\"menu__email\">{email}</span>\r\n            <Link to=\"/sign-in\" onClick={handleLogout} className=\"button menu__link\">\r\n                Выйти\r\n            </Link>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default MenuMobile;","import \"../index.css\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport { useEffect } from \"react\";\nimport api from \"../utils/Api\";\nimport React from \"react\";\nimport ImagePopup from \"./ImagePopup\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\nimport ProtectedRoute from \"./ProtectedRoute.js\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport * as auth from \"../utils/auth\";\nimport InfoToolTip from \"./InfoTooltip\";\nimport MenuMobile from \"./MenuMobile\";\n\n\n\nfunction App() {\n    const [loggedIn, setLoggedIn] = React.useState(false)\n    const [selectedCard, setSelectedCard] = React.useState(null)\n    const [currentUser, setCurrentUser] = React.useState({\n        name: '',\n        about: '',\n        _id: '',\n    })\n    const [cards, setCards] = React.useState([]);\n    const [userData, setUserData] = React.useState({\n        email: \"\",\n    })\n    const [isMenuOpen, setIsMenuOpen] = React.useState(false)\n    const [isInfoToolTipOpen, setIsInfoToolTipOpen] = React.useState(false)\n    const [infoToolTipData, setInfoToolTipData] = React.useState({\n        title: \"\",\n        icon: \"\",\n    })\n    const [isDataSet, setIsDataSet] = React.useState(false)\n    const history = useHistory()\n\n    const handleLogin = (email, password) => {\n        auth.authorize(email, password)\n            .then((res) => {\n                if (res.token) {\n                    localStorage.setItem(\"token\", res.token)\n                    setUserData({ email: email })\n                    setLoggedIn(true)\n                    setIsMenuOpen(false)\n                    history.push(\"/\")\n                }\n            })\n            .catch((err) => console.log(err))\n    }\n\n    useEffect(() => {\n        api.getInitialCards()\n            .then((cards) => {\n                setCards(cards)\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }, [])\n\n    useEffect(() => {\n        api.getUserInfo()\n            .then(res => {\n                setCurrentUser(res)\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }, [setCurrentUser])\n\n    useEffect(() => {\n        if (loggedIn) {\n            history.push(\"/\")\n        }\n    }, [history, loggedIn])\n\n    function handleAddPlaceSubmit({ name, link }) {\n        api.addCard(name, link)\n            .then(newCard => {\n                setCards([newCard, ...cards])\n                closeAllPopups()\n            })\n    }\n\n    function handleUpdateUser({ name, about }) {\n        api.updateProfile(name, about)\n            .then((res) => {\n                setCurrentUser(res)\n                closeAllPopups()\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n\n    function handleUpdateAvatar({ avatar }) {\n        api.updateAvatar(avatar)\n            .then((res) => {\n                setCurrentUser(res)\n                closeAllPopups()\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n        (!isLiked ? api.setLikeForCard(card._id) : api.removeLikeFromCard(card._id))\n            .then((newCard) => {\n                setCards((state) =>\n                    state.map((c) => c._id === card._id ? newCard : c)\n                )\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n\n    function handleCardDelete(card) {\n        const isOwn = card.owner._id === currentUser._id;\n        api.deleteCard(card._id, isOwn)\n            .then(res => {\n                setCards(cards.filter(item => { return item._id !== card._id }))\n                closeAllPopups()\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card)\n    }\n\n    const [isEditAvatarPopupOpen, setStateAvatar] = React.useState(false);\n    function handleEditAvatarClick() {\n        setStateAvatar(true)\n    }\n    const [isEditProfilePopupOpen, setStateProfile] = React.useState(false);\n    function handleEditProfileClick() {\n        setStateProfile(true)\n    }\n    const [isAddPlacePopupOpen, setStatePlace] = React.useState(false);\n    function handleAddPlaceClick() {\n        setStatePlace(true)\n    }\n\n    function closeAllPopups() {\n        setStateProfile(false)\n        setStatePlace(false)\n        setStateAvatar(false)\n        setSelectedCard(null)\n        setIsInfoToolTipOpen(false)\n    }\n\n    const tokenCheck = () => {\n        const token = localStorage.getItem(\"token\")\n        if (token) {\n            auth.getToken(token)\n                .then((res) => {\n                    if (res) {\n                        setUserData({ email: res.data.email })\n                        setLoggedIn(true)\n                    }\n                })\n                .catch((err) => console.log(err))\n        }\n    }\n\n    useEffect(() => {\n        tokenCheck()\n    }, [])\n\n\n\n    const toggleMenu = () => {\n        isMenuOpen ? setIsMenuOpen(false) : setIsMenuOpen(true)\n    }\n\n    function handleInfoToolTip() {\n        setIsInfoToolTipOpen(true)\n    }\n\n\n\n    const handleLogout = () => {\n        localStorage.removeItem(\"token\")\n        setUserData({ email: \"\" })\n        setLoggedIn(false)\n    }\n\n    const handleRegister = (password, email) => {\n        auth.register(password, email)\n            .then((res) => {\n                setIsDataSet(true)\n                history.push(\"/signin\")\n                setInfoToolTipData({\n                    icon: true,\n                    title: \"Вы успешно зарегистрировались!\",\n                });\n                handleInfoToolTip();\n            })\n            .catch(() => {\n                setIsDataSet(false);\n                setInfoToolTipData({\n                    icon: false,\n                    title: \"Что-то пошло не так! Попробуйте ещё раз.\",\n                });\n                handleInfoToolTip();\n            })\n            .finally(() => {\n                setIsDataSet(false)\n            })\n    }\n\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            {\n                <div className=\"App\" background=\"#000\">\n                    <div className=\"body\">\n                        <div className=\"page\">\n                            {loggedIn && (\n                                <MenuMobile\n                                    exect\n                                    email={userData.email}\n                                    handleLogout={handleLogout}\n                                    isMenuOpen={isMenuOpen}\n                                />\n                            )}\n\n                            <Header\n                                handleLogout={handleLogout}\n                                email={userData.email}\n                                toggleMenu={toggleMenu}\n                                isMenuOpen={isMenuOpen}\n                            />\n\n                            <ProtectedRoute\n                                exect\n                                path=\"/\"\n                                loggedIn={loggedIn}\n                                cards={cards}\n                                onCardLike={handleCardLike}\n                                onCardDelete={handleCardDelete}\n                                handleCardClick={handleCardClick}\n                                onEditProfile={handleEditProfileClick}\n                                onAddPlace={handleAddPlaceClick}\n                                onEditAvatar={handleEditAvatarClick}\n                                component={Main}\n                            />\n                            <Switch>\n\n                                <Route exect path=\"/signin\">\n                                    <Login handleLogin={handleLogin} />\n                                </Route>\n\n                                <Route exect path=\"/signup\">\n                                    <Register handleRegister={handleRegister} isDataSet={isDataSet} />\n                                </Route>\n\n                                <Route exect path=\"/\">\n                                    {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n                                </Route>\n\n                            </Switch>\n\n                            <EditAvatarPopup\n                                title={\"Обновить аватар\"}\n                                onClose={closeAllPopups}\n                                isOpen={isEditAvatarPopupOpen}\n                                onUpdateAvatar={handleUpdateAvatar}\n                            />\n\n                            <EditProfilePopup\n                                title={\"Редактировать профиль\"}\n                                onUpdateUser={handleUpdateUser}\n                                onClose={closeAllPopups}\n                                isOpen={isEditProfilePopupOpen}\n                            />\n\n                            <AddPlacePopup\n                                title={\"Новое место\"}\n                                onClose={closeAllPopups}\n                                isOpen={isAddPlacePopupOpen}\n                                onAddPlace={handleAddPlaceSubmit}\n                            />\n\n                            <ImagePopup\n                                handleCardClick={handleCardClick}\n                                onClose={closeAllPopups}\n                                card={selectedCard}\n                            />\n\n                            <InfoToolTip\n                                isOpen={isInfoToolTipOpen}\n                                onClose={closeAllPopups}\n                                title={infoToolTipData.title}\n                                icon={infoToolTipData.icon}\n                            />\n\n                            <Footer />\n                        </div>\n                    </div>\n                </div>\n            }\n        </CurrentUserContext.Provider >\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\n\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}